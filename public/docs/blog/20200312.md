## 20200312 缘起

> 20200312: 应该是从 20200215 正式确定写这个 Repo。眨眼就一个月了，每天吃吃睡睡、宅家锻炼、处理些公司里的事、做做实验，与龟速的机器和越来越高的墙作斗争。接下来应该还能有半个月的空闲时间，先把第一季各部分的教程写完，并重新优化代码。

多灾多难的 2020 年，必定会在历史上记一笔。春节以来，COVID-19 疫情日益严重，全国人民都在家隔离。憋在家里的这段日子，每天被各种信息坏消息和好消息蹂躏来，蹂躏去。
时间久了，也渐渐应激疲劳，静下来，找点事，排遣一下时间。

最近几年，我一直在关注如何让用户拥有通过私有数据训练，实现 “私有AI” 能力的方法。不过没有找到特别理想的方案，直到看到 Tensorflow.js 的最近更新。

我们先来看看当前经典的 AI 使能架构：

[前端AI应用+模型Serving+后端计算的示意图]

你的所有数据都会被传送到后端服务器，再使用服务端资源进行训练。在大数据和 AI 面前，你完全没有隐私可言，隐私换智（fang）能（bian），就是当前的现状。

另外，对于小型的 AI 创新服务企业而言，这种模式需要更多的资源才能实施，一是数据传输量大，二是服务端计算资源要求也不老少。

相对理想的架构是将一些的 AI 计算放在客户端，也就是大家常说的“边缘计算”。在这种模式下，客户端在本地上具有足够的“智能”，除了能够进行必要的事件处理，过滤“无用(也许吧)”的数据，更妙的是在客户端可以进行“小数据”个性化训练，实现“私有 AI”。在这种架构下，服务端负责提供在“大数据”上预先训练好的基础模型，客户端进行“小数据”上的私人订制，既可以保持隐私，也能够享受到更智能私人服务。

### Tensorflow.js

Tensorflow.js 在 2月4日 除夕那天发布了 v1.5.2，能够在浏览器端做训练了！！！能直接在浏览器端做训练，即使只是“简单”的训练，是个很有意义的大进步。可以在用户（浏览器）端进行个性化的训练，进行隐私信息的脱敏，再和服务端更强大的AI能力相配合，相信不久之后，我们能够看到更多既能保持个人数据隐私，也足够智能灵活的新型AI应用。Google也提供了“联邦计算”的例子，也许这是“私人AI”时代的曙光。

[后端预训练+前端个性化训练+联邦计算的示意图]

除此之外，模型加载、存储和转换相关功能基本完备，能够很顺畅地与 Tensorflow v2.0 以上版本训练所产生的模型进行对接。

### React Hooks

因为工作性质的关系，我自己的主要时间都放在了团队管理、技术预研和架构设计方面，虽然也动手做一部分代码，但是对于不少新的技术特性细节，都得靠团队小伙伴们的鼎力支持了。

我的团队主要使用基于 JavaScript/TypeScript 的 React + Redux + Express 进行全栈开发，除了人工智能后端用 Python。

使用 React 已经是相当舒适的编程体验了，不过如果涉及到复杂的组件间信息交互，以及多层父子之间的数据共享，就必须使用高阶组件+Context、或者 Redux Connect 等形式传递数据，这样的代码风格，并不简洁和优美。

React Hooks 是 React 在 16.8 之后支持的新的特性，发布至今已经一年了吧。因为当前工作中的项目里一直使用的是 Component 的对象形式，一直没有太仔细的学习和使用。React Hooks 更容易将组件的 UI 与状态分离，不用再写很看起来不爽的 setState，不用担心在 componentDidMount、componentWillUnmount 忘了做这做那。使用 React Hooks 开发，可以用很直观的数据变化驱动界面变化的思路来组织代码，实际使用，还真香。

### TypeScript

工作中，只要求团队在后端开发使用 TypeScript。

作为一个资深老 Java，最近几年，使用 JavaScript 和 Python 居多，确实有一种放飞自我的感觉。源自于 Java 开发养成的代码习惯，加上 JS 和 Python 的灵活方便，大大提高了我将创意和想法快速开发实现的效率。不过，因为经常在多种语言之间切来切去，不少语法细节到用时也会经常感到费解和奇怪。

趁这个时间，把 TypeScript 的语法细节也捋了一下，实践中，也遇到了不少以前忽略的 TypeScript 使用细节。
